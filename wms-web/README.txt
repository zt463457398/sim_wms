WMS前端项目说明文档
=================

个人中心功能说明
-------------

1. 功能概述
个人中心模块提供了用户查看和编辑个人信息的功能，包括：
- 查看个人基本信息（用户名、昵称、电话、邮箱）
- 编辑个人信息（昵称、电话、邮箱）

2. 目录结构
wms-web/
├── src/
│   ├── api/
│   │   └── user.js           # 用户相关API请求
│   ├── views/
│   │   └── profile/
│   │       └── index.vue     # 个人中心页面组件
│   └── router/
│       └── index.js          # 路由配置

3. 核心文件说明

3.1 视图组件 (views/profile/index.vue)
- 使用Element Plus的Card和Form组件构建界面
- 实现查看/编辑两种状态的切换
- 包含表单验证功能
- 字段验证规则：
  * 昵称：必填
  * 手机：符合手机号格式
  * 邮箱：符合邮箱格式

3.2 API接口 (api/user.js)
- getUserInfo(): 获取当前用户信息
- updateUserInfo(data): 更新用户信息

3.3 路由配置 (router/index.js)
- 路径: /profile
- 组件: Profile
- 元信息: { title: '个人中心', icon: 'user' }

4. 使用的主要技术
- Vue 3 Composition API
- Element Plus UI组件库
- Axios 请求库
- Vue Router 路由管理

5. 数据流转说明
- 页面加载时自动获取用户信息
- 点击编辑按钮进入编辑模式
- 保存时进行表单验证
- 验证通过后调用更新接口
- 更新成功后刷新显示最新数据

6. API接口说明

6.1 获取用户信息
- 请求方式：GET
- 接口路径：/user/info
- 响应数据：
{
  "code": 200,
  "data": {
    "username": "用户名",
    "nickname": "昵称",
    "phone": "手机号",
    "email": "邮箱"
  }
}

6.2 更新用户信息
- 请求方式：PUT
- 接口路径：/user/update
- 请求数据：
{
  "nickname": "新昵称",
  "phone": "新手机号",
  "email": "新邮箱"
}
- 响应数据：
{
  "code": 200,
  "message": "更新成功"
}

7. 安全性考虑
- 所有接口都需要携带token认证
- 只允许修改指定字段
- 表单输入进行验证
- 敏感信息（如密码）不显示

8. 使用说明
1. 访问个人中心页面：点击导航菜单中的"个人中心"
2. 查看信息：直接显示个人信息
3. 修改信息：
   - 点击"编辑"按钮
   - 修改需要更新的信息
   - 点击"保存"提交修改
   - 点击"取消"放弃修改

9. 注意事项
- 确保后端API正确实现并可访问
- 需要正确配置API请求的baseURL
- 请求头需要携带有效的token
- 表单验证规则可根据实际需求调整

10. 后端接口依赖
- UserController: 提供用户信息的查询和更新接口
- SecurityUtils: 处理当前用户认证信息
- JwtUtil: 处理JWT token的生成和验证
- UserService: 实现用户相关的业务逻辑

11. 权限控制
- 个人中心页面需要登录后才能访问
- 用户只能查看和修改自己的信息
- 通过JWT token进行身份验证
- 后端API会验证用户身份和权限 